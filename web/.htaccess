<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  
  # Si el archivo o directorio existe, servirlo directamente
  RewriteCond %{REQUEST_FILENAME} -f
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule . - [L]
  
  # De lo contrario, redirigir todo a index.html para que Flutter maneje el routing
  RewriteRule ^(.*)$ index.html [L]
</IfModule>

# Prevenir el listado de directorios para evitar 403 si el index no se detecta
Options -Indexes

# Asegurar tipos MIME correctos
<IfModule mod_mime.c>
  AddType application/javascript .js
  AddType application/json .json
  AddType image/svg+xml .svg
  AddType font/woff2 .woff2
</IfModule>
